# LiveQuiz API — Managing Questions

This section covers creating, reading, updating, and deleting questions associated with a topic. Questions belong to a topic and include exactly four answer options.

## 1. Create Question For Topic
- Endpoint: POST `/api/topics/<topic_id>/questions/`
- Required fields: `text`, `options` (exactly 4 items)
- Each `options` item must include: `text` (string), `is_correct` (boolean)
- The `id` field is not required in the request and is ignored if provided; IDs are generated by the server.

Validation rules:
- Exactly four options are required.
- At least one option must be marked as `is_correct: true`.

Example request (JSON):
```json
{
  "text": "What does PEP 8 define?",
  "options": [
    { "text": "Python style guide", "is_correct": true },
    { "text": "A web framework", "is_correct": false },
    { "text": "A package manager", "is_correct": false },
    { "text": "A testing tool", "is_correct": false }
  ]
}
```

Example response (JSON):
```json
{
  "success": true,
  "code": 201,
  "message": "Success",
  "result": {
    "id": 87,
    "text": "What does PEP 8 define?",
    "topic_id": 12,
    "options": [
      { "id": 501, "text": "Python style guide", "is_correct": true },
      { "id": 502, "text": "A web framework", "is_correct": false },
      { "id": 503, "text": "A package manager", "is_correct": false },
      { "id": 504, "text": "A testing tool", "is_correct": false }
    ]
  }
}
```

## 2. Get All Questions For Topic
- Recommended approach: GET `/api/topics/<topic_id>/` and use the `result.questions` array in the response (the topic detail returns all questions with their options).
- If a dedicated listing endpoint is added, it will be available at: GET `/api/topics/<topic_id>/questions/`.

Example (via topic detail) response snippet:
```json
{
  "success": true,
  "code": 200,
  "message": "Success",
  "result": {
    "id": 12,
    "title": "Python 101",
    "questions": [
      {
        "id": 87,
        "text": "What does PEP 8 define?",
        "topic_id": 12,
        "options": [
          { "id": 501, "text": "Python style guide", "is_correct": true },
          { "id": 502, "text": "A web framework", "is_correct": false },
          { "id": 503, "text": "A package manager", "is_correct": false },
          { "id": 504, "text": "A testing tool", "is_correct": false }
        ]
      }
    ]
  }
}
```

## 3. Update Question
- Endpoint: PATCH `/api/questions/<id>/`
- Auth: Bearer token
- Content-Type: `application/json`
- Required field in body: `topic_id` (integer) — for additional safety the server verifies the question belongs to this topic.
- Optional fields: `text`, `options` (exactly 4 items if provided)
- Each `options` item must include: `id` (existing option id), `text`, `is_correct`.

Validation rules:
- If `options` provided — exactly four options, at least one with `is_correct: true`.
- All provided `options.id` must belong to the target question.

Example request (JSON):
```json
{
  "topic_id": 12,
  "text": "What does PEP 8 define? (updated)",
  "options": [
    { "id": 501, "text": "Python style guide", "is_correct": true },
    { "id": 502, "text": "A web framework", "is_correct": false },
    { "id": 503, "text": "A package manager", "is_correct": false },
    { "id": 504, "text": "A testing tool", "is_correct": false }
  ]
}
```

## 4. Delete Question
- Endpoint: DELETE `/api/questions/<id>/`
- Current path in this build: DELETE `/api/questions/<id>/delete/`

Expected response (JSON):
```json
{
  "success": true,
  "code": 200,
  "message": "Question deleted",
  "result": null
}
```
